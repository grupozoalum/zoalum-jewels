<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colecci√≥n para ELLA | ZOALUM</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Colecci√≥n exclusiva para ELLA de ZOALUM D'VIL. Joyer√≠a de lujo con descuentos especiales de San Valent√≠n.">
    <meta name="keywords" content="joyer√≠a para ella, arracadas oro, mariposa tricolor, huggies diamond, hojas amatista, San Valent√≠n">
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@700&family=Great+Vibes&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    
    <!-- Preload critical assets -->
    <link rel="preload" href="assets/1769664075795.png" as="image">
    <link rel="preload" href="assets/1769664168088.png" as="image">
</head>
<body>
    
    <!-- Header -->
    <header class="header-catalog">
        <nav>
            <div class="logo">ZOALUM</div>
            <a href="index.html" class="back-link"><i class="fa-solid fa-arrow-left"></i> VOLVER AL INICIO</a>
        </nav>
    </header>

    <!-- Offer Timer -->
    <div class="offer-timer">
        <div class="timer-container">
            <div class="timer-title">OFERTA TERMINA EN:</div>
            <div class="timer-digits">
                <div class="time-unit">
                    <span class="days">8</span>
                    <small>DIAS</small>
                </div>
                <div class="time-unit">
                    <span class="hours">2</span>
                    <small>HORAS</small>
                </div>
                <div class="time-unit">
                    <span class="minutes">00</span>
                    <small>MIN</small>
                </div>
                <div class="time-unit">
                    <span class="seconds">00</span>
                    <small>SEG</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Catalog Grid -->
    <section class="catalog-grid">
        <div class="section-title">
            <h2>COLECCI√ìN PARA ELLA</h2>
            <div class="valentine-text">
                Especial San Valent√≠n <span class="heart-beat">
                    <svg class="heart-svg" viewBox="0 0 32 29.6">
                        <path d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
                            c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"/>
                    </svg>
                </span>
            </div>
            <div class="divider-small"></div>
            <p class="section-subtitle">Descuentos exclusivos por tiempo limitado</p>
        </div>

        <div class="products-container">
            <!-- Product 1 -->
            <div class="product-card">
                <button class="favorite-btn" aria-label="Agregar a favoritos">
                    <i class="fa-regular fa-heart"></i>
                </button>
                <span class="badge-love">-30% LOVE</span>
                <button class="quick-view-btn" data-product="1">VISTA R√ÅPIDA</button>
                
                <div class="main-image-area">
                    <img src="assets/placeholder.jpg" data-src="assets/1769664075795.png" alt="Arracadas Oro" id="main-img-1" class="lazy-load">
                </div>
                <div class="thumbnails">
                    <img src="assets/1769664075795.png" onclick="cambiarImagen('main-img-1', this.src)" class="thumb active">
                    <img src="assets/1769663125736.png" onclick="cambiarImagen('main-img-1', this.src)" class="thumb">
                </div>
                <div class="product-info">
                    <h3>ARRACADAS ORO</h3>
                    <p class="desc">Dise√±o circular cl√°sico, acabado pulido de alta calidad. Ideal para cualquier ocasi√≥n.</p>
                    
                    <div class="product-stats">
                        <span class="stat"><i class="fa-solid fa-gem"></i> Oro 14k</span>
                        <span class="stat"><i class="fa-solid fa-ruler-combined"></i> 2.5 cm</span>
                    </div>
                    
                    <div class="price-box">
                        <span class="old-price">$300.00</span>
                        <span class="price">$210.00 <small>MXN</small></span>
                    </div>

                    <div class="product-actions">
                        <a href="https://wa.me/525548588680?text=Me%20interesan%20las%20Arracadas%20con%20descuento" target="_blank" class="btn-buy">
                            <i class="fa-brands fa-whatsapp"></i> COMPRAR
                        </a>
                        <button class="btn-details" data-product="1">DETALLES</button>
                    </div>
                </div>
            </div>

            <!-- Product 2 -->
            <div class="product-card">
                <button class="favorite-btn" aria-label="Agregar a favoritos">
                    <i class="fa-regular fa-heart"></i>
                </button>
                <span class="badge-love">-30% LOVE</span>
                <button class="quick-view-btn" data-product="2">VISTA R√ÅPIDA</button>
                
                <div class="main-image-area">
                    <img src="assets/placeholder.jpg" data-src="assets/1769664168088.png" alt="Mariposa Tricolor" id="main-img-2" class="lazy-load">
                </div>
                <div class="thumbnails">
                    <img src="assets/1769664168088.png" onclick="cambiarImagen('main-img-2', this.src)" class="thumb active">
                    <img src="assets/1769663815734.png" onclick="cambiarImagen('main-img-2', this.src)" class="thumb">
                </div>
                <div class="product-info">
                    <h3>MARIPOSA TRICOLOR</h3>
                    <p class="desc">Exclusivo dise√±o en tres oros con movimiento. Pieza √∫nica y elegante.</p>
                    
                    <div class="product-stats">
                        <span class="stat"><i class="fa-solid fa-gem"></i> Oro 18k</span>
                        <span class="stat"><i class="fa-solid fa-weight-hanging"></i> 3.2g</span>
                    </div>
                    
                    <div class="price-box">
                        <span class="old-price">$250.00</span>
                        <span class="price">$175.00 <small>MXN</small></span>
                    </div>

                    <div class="product-actions">
                        <a href="https://wa.me/525548588680?text=Me%20interesan%20las%20Mariposas%20con%20descuento" target="_blank" class="btn-buy">
                            <i class="fa-brands fa-whatsapp"></i> COMPRAR
                        </a>
                        <button class="btn-details" data-product="2">DETALLES</button>
                    </div>
                </div>
            </div>

            <!-- Product 3 -->
            <div class="product-card">
                <button class="favorite-btn" aria-label="Agregar a favoritos">
                    <i class="fa-regular fa-heart"></i>
                </button>
                <span class="badge-love">-30% LOVE</span>
                <button class="quick-view-btn" data-product="3">VISTA R√ÅPIDA</button>
                
                <div class="main-image-area">
                    <img src="assets/placeholder.jpg" data-src="assets/1769671931033.png" alt="Huggies Zirconia" id="main-img-3" class="lazy-load">
                </div>
                <div class="thumbnails">
                    <img src="assets/1769671931033.png" onclick="cambiarImagen('main-img-3', this.src)" class="thumb active">
                    <img src="assets/1769672017288.png" onclick="cambiarImagen('main-img-3', this.src)" class="thumb">
                    <img src="assets/1769672130690.png" onclick="cambiarImagen('main-img-3', this.src)" class="thumb">
                </div>
                <div class="product-info">
                    <h3>HUGGIES DIAMOND</h3>
                    <p class="desc">Elegancia discreta con incrustaciones de zirconia brillante. Perfecto para el d√≠a a d√≠a.</p>
                    
                    <div class="product-stats">
                        <span class="stat"><i class="fa-solid fa-gem"></i> Zirconia</span>
                        <span class="stat"><i class="fa-solid fa-ruler-combined"></i> 1.8 cm</span>
                    </div>
                    
                    <div class="price-box">
                        <span class="old-price">$280.00</span>
                        <span class="price">$196.00 <small>MXN</small></span>
                    </div>

                    <div class="product-actions">
                        <a href="https://wa.me/525548588680?text=Me%20interesan%20los%20Huggies%20con%20descuento" target="_blank" class="btn-buy">
                            <i class="fa-brands fa-whatsapp"></i> COMPRAR
                        </a>
                        <button class="btn-details" data-product="3">DETALLES</button>
                    </div>
                </div>
            </div>

            <!-- Product 4 -->
            <div class="product-card">
                <button class="favorite-btn" aria-label="Agregar a favoritos">
                    <i class="fa-regular fa-heart"></i>
                </button>
                <span class="badge-love">-40% LOVE</span>
                <button class="quick-view-btn" data-product="4">VISTA R√ÅPIDA</button>
                
                <div class="main-image-area">
                    <img src="assets/placeholder.jpg" data-src="assets/1769672486162.png" alt="Hojas Amatista" id="main-img-4" class="lazy-load">
                </div>
                <div class="thumbnails">
                    <img src="assets/1769672486162.png" onclick="cambiarImagen('main-img-4', this.src)" class="thumb active">
                    <img src="assets/1769672679081.png" onclick="cambiarImagen('main-img-4', this.src)" class="thumb">
                    <img src="assets/1769672547482.png" onclick="cambiarImagen('main-img-4', this.src)" class="thumb">
                </div>
                <div class="product-info">
                    <h3>HOJAS AMATISTA</h3>
                    <p class="desc">Dise√±o inspirado en la naturaleza con cristales violeta. Pieza artesanal √∫nica.</p>
                    
                    <div class="product-stats">
                        <span class="stat"><i class="fa-solid fa-gem"></i> Amatista</span>
                        <span class="stat"><i class="fa-solid fa-weight-hanging"></i> 4.5g</span>
                    </div>
                    
                    <div class="price-box">
                        <span class="old-price">$320.00</span>
                        <span class="price">$192.00 <small>MXN</small></span>
                    </div>

                    <div class="product-actions">
                        <a href="https://wa.me/525548588680?text=Me%20interesan%20las%20Hojas%20Amatista%20con%20descuento" target="_blank" class="btn-buy">
                            <i class="fa-brands fa-whatsapp"></i> COMPRAR
                        </a>
                        <button class="btn-details" data-product="4">DETALLES</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="features-container">
            <div class="feature">
                <i class="fa-solid fa-shipping-fast"></i>
                <h4>Env√≠o Gratis</h4>
                <p>En compras mayores a $500 MXN</p>
            </div>
            <div class="feature">
                <i class="fa-solid fa-shield-alt"></i>
                <h4>Garant√≠a</h4>
                <p>30 d√≠as de garant√≠a en todos los productos</p>
            </div>
            <div class="feature">
                <i class="fa-solid fa-gift"></i>
                <h4>Empaque Premium</h4>
                <p>Presentaci√≥n de lujo para regalo</p>
            </div>
            <div class="feature">
                <i class="fa-solid fa-headset"></i>
                <h4>Soporte 24/7</h4>
                <p>Atenci√≥n personalizada v√≠a WhatsApp</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contacto">
        <div class="footer-container">
            <div class="copyright">&copy; 2026 ZOALUM LUXURY.</div>
            <div class="footer-links">
                <a href="index.html">Inicio</a>
                <a href="#contacto">Contacto</a>
                <a href="#" class="terms-link">T√©rminos y condiciones</a>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Float Button -->
    <a href="https://wa.me/525548588680" target="_blank" class="whatsapp-float">
        <i class="fa-brands fa-whatsapp"></i>
        <span class="whatsapp-text">Preguntar por oferta</span>
    </a>

    <!-- Quick View Modal -->
    <div class="quick-view-modal" id="quickViewModal">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <div class="modal-body">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div class="terms-modal" id="termsModal">
        <div class="modal-content">
            <button class="close-terms">&times;</button>
            <h3>T√©rminos y Condiciones</h3>
            <div class="terms-content">
                <p><strong>1. Pol√≠tica de Env√≠os:</strong> Los env√≠os se realizan de 2 a 5 d√≠as h√°biles.</p>
                <p><strong>2. Garant√≠a:</strong> Todos nuestros productos cuentan con 30 d√≠as de garant√≠a.</p>
                <p><strong>3. Devoluciones:</strong> Aceptamos devoluciones dentro de los primeros 7 d√≠as.</p>
                <p><strong>4. Pagos:</strong> Aceptamos transferencias bancarias y pagos v√≠a WhatsApp.</p>
            </div>
        </div>
    </div>

    <script>
        // SVG Gradient for heart
        if (!document.getElementById('heart-gradient')) {
            const svgDefs = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svgDefs.setAttribute('width', '0');
            svgDefs.setAttribute('height', '0');
            
            const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
            
            const gradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
            gradient.setAttribute('id', 'heart-gradient');
            gradient.setAttribute('x1', '0%');
            gradient.setAttribute('y1', '0%');
            gradient.setAttribute('x2', '100%');
            gradient.setAttribute('y2', '100%');
            
            const stop1 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
            stop1.setAttribute('offset', '0%');
            stop1.setAttribute('stop-color', '#ff0055');
            
            const stop2 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
            stop2.setAttribute('offset', '50%');
            stop2.setAttribute('stop-color', '#ff4d4d');
            
            const stop3 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
            stop3.setAttribute('offset', '100%');
            stop3.setAttribute('stop-color', '#ff99cc');
            
            gradient.appendChild(stop1);
            gradient.appendChild(stop2);
            gradient.appendChild(stop3);
            defs.appendChild(gradient);
            svgDefs.appendChild(defs);
            
            document.body.appendChild(svgDefs);
        }
        
        // Heart interactivity
        const heartBeat = document.querySelector('.heart-beat');
        if (heartBeat) {
            heartBeat.addEventListener('mouseenter', function() {
                this.style.animation = 'none';
                setTimeout(() => {
                    this.style.animation = '';
                }, 10);
            });
            
            heartBeat.addEventListener('click', function() {
                const heartSvg = this.querySelector('.heart-svg');
                heartSvg.style.transform = 'scale(1.5)';
                heartSvg.style.filter = 'drop-shadow(0 0 25px rgba(255, 0, 85, 1)) brightness(1.5)';
                
                setTimeout(() => {
                    heartSvg.style.transform = '';
                    heartSvg.style.filter = '';
                }, 300);
                
                createFloatingHeart();
            });
            
            // Touch support para m√≥vil
            heartBeat.addEventListener('touchstart', function(e) {
                e.preventDefault();
                const heartSvg = this.querySelector('.heart-svg');
                heartSvg.style.transform = 'scale(1.5)';
                heartSvg.style.filter = 'drop-shadow(0 0 25px rgba(255, 0, 85, 1)) brightness(1.5)';
                
                setTimeout(() => {
                    heartSvg.style.transform = '';
                    heartSvg.style.filter = '';
                }, 300);
                
                createFloatingHeart();
            }, { passive: false });
        }
        
        function createFloatingHeart() {
            const floatingHeart = document.createElement('div');
            floatingHeart.innerHTML = '‚ù§Ô∏è';
            floatingHeart.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                font-size: 40px;
                color: #ff0055;
                z-index: 10001;
                pointer-events: none;
                transform: translate(-50%, -50%) scale(0);
                transition: all 1s ease-out;
                opacity: 0;
                will-change: transform, opacity;
            `;
            
            document.body.appendChild(floatingHeart);
            
            setTimeout(() => {
                floatingHeart.style.transform = 'translate(-50%, -150%) scale(1)';
                floatingHeart.style.opacity = '1';
            }, 10);
            
            setTimeout(() => {
                floatingHeart.style.opacity = '0';
                floatingHeart.style.transform = 'translate(-50%, -250%) scale(0.5)';
            }, 800);
            
            setTimeout(() => {
                floatingHeart.remove();
            }, 1800);
        }

        // Original functions
        function cambiarImagen(idImagenGrande, nuevaFuente) {
            var imagenGrande = document.getElementById(idImagenGrande);
            imagenGrande.style.opacity = 0.7;
            setTimeout(function() {
                imagenGrande.src = nuevaFuente;
                imagenGrande.style.opacity = 1;
            }, 100);
            
            var card = imagenGrande.closest('.product-card');
            var thumbs = card.querySelectorAll('.thumb');
            thumbs.forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Heart rain OPTIMIZADO PARA M√ìVIL
        function createHeartRain() {
            const isMobile = window.innerWidth <= 768;
            
            // En m√≥vil, reducir frecuencia
            if (isMobile) {
                const shouldCreate = Math.random() > 0.7; // 30% de probabilidad
                if (!shouldCreate) return;
            }
            
            const heart = document.createElement("div");
            heart.classList.add("heart-rain");
            const emojis = isMobile ? ['‚ù§Ô∏è', 'üíñ'] : ['‚ù§Ô∏è', 'üíñ', 'üíó', '‚ù§Ô∏è‚Äçüî•'];
            heart.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
            
            heart.style.left = Math.random() * 100 + "vw";

            const depth = Math.random();
            let size, duration;

            if (depth < 0.5) { 
                size = isMobile ? 
                    Math.random() * 12 + 8 : // 8-20px en m√≥vil
                    Math.random() * 15 + 10; // 10-25px en desktop
                duration = isMobile ? 
                    Math.random() * 4 + 4 : // 4-8s en m√≥vil
                    Math.random() * 3 + 6;  // 6-9s en desktop
                heart.style.opacity = '0.6';
            } else if (depth < 0.85) { 
                size = isMobile ? 
                    Math.random() * 15 + 15 : // 15-30px en m√≥vil
                    Math.random() * 20 + 25;  // 25-45px en desktop
                duration = isMobile ? 
                    Math.random() * 3 + 3 : // 3-6s en m√≥vil
                    Math.random() * 2 + 4;  // 4-6s en desktop
                heart.style.opacity = '0.85';
            } else { 
                size = isMobile ? 
                    Math.random() * 20 + 30 : // 30-50px en m√≥vil
                    Math.random() * 30 + 45;  // 45-75px en desktop
                duration = isMobile ? 
                    Math.random() * 2 + 2 : // 2-4s en m√≥vil
                    Math.random() * 1 + 3;  // 3-4s en desktop
                heart.style.zIndex = "10000"; 
                heart.style.opacity = '1';
            }
            
            heart.style.fontSize = size + "px";
            heart.style.animationDuration = duration + "s";
            
            // Optimizaci√≥n para m√≥vil
            heart.style.transform = 'translateZ(0)';
            heart.style.backfaceVisibility = 'hidden';
            heart.style.willChange = 'transform, opacity';
            
            document.body.appendChild(heart);

            const removeTime = isMobile ? 6000 : 9000;
            setTimeout(() => { heart.remove(); }, removeTime);
        }

        // Start heart rain OPTIMIZADO
        let rainInterval;
        if (window.innerWidth <= 768) {
            // Menos frecuencia en m√≥vil
            rainInterval = setInterval(createHeartRain, 500);
        } else {
            rainInterval = setInterval(createHeartRain, 250);
        }

        // Detener m√°s r√°pido en m√≥vil
        const stopTime = window.innerWidth <= 768 ? 5000 : 6000;
        setTimeout(() => { 
            clearInterval(rainInterval); 
        }, stopTime);

        // Offer timer
        function updateOfferTimer() {
            const hoursSpan = document.querySelector('.hours');
            const minutesSpan = document.querySelector('.minutes');
            const secondsSpan = document.querySelector('.seconds');
            
            if(!hoursSpan || !minutesSpan || !secondsSpan) return;
            
            let hours = parseInt(hoursSpan.textContent);
            let minutes = parseInt(minutesSpan.textContent);
            let seconds = parseInt(secondsSpan.textContent);
            
            if(seconds > 0) {
                seconds--;
            } else {
                seconds = 59;
                if(minutes > 0) {
                    minutes--;
                } else {
                    minutes = 59;
                    if(hours > 0) {
                        hours--;
                    } else {
                        // Timer ended
                        hours = 0;
                        minutes = 0;
                        seconds = 0;
                        document.querySelector('.offer-timer').innerHTML = `
                            <div class="timer-ended">
                                <i class="fa-solid fa-clock"></i>
                                <span>¬°OFERTA FINALIZADA!</span>
                            </div>
                        `;
                        return;
                    }
                }
            }
            
            hoursSpan.textContent = hours.toString().padStart(2, '0');
            minutesSpan.textContent = minutes.toString().padStart(2, '0');
            secondsSpan.textContent = seconds.toString().padStart(2, '0');
        }
        
        // Start timer
        setInterval(updateOfferTimer, 1000);

        // Favorite buttons con soporte touch
        document.querySelectorAll('.favorite-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                handleFavoriteClick(this);
            });
            
            // Soporte touch para m√≥vil
            btn.addEventListener('touchstart', function(e) {
                e.stopPropagation();
                e.preventDefault();
                handleFavoriteClick(this);
            }, { passive: false });
        });
        
        function handleFavoriteClick(button) {
            const icon = button.querySelector('i');
            if(icon.classList.contains('fa-regular')) {
                icon.classList.replace('fa-regular', 'fa-solid');
                icon.style.color = '#ff0055';
                button.style.background = 'rgba(255,255,255,1)';
                button.style.boxShadow = '0 0 15px rgba(255,0,85,0.3)';
                showNotification('Producto agregado a favoritos ‚ù§Ô∏è');
                
                // Save to localStorage
                const productId = button.closest('.product-card').querySelector('.quick-view-btn').dataset.product;
                let favorites = JSON.parse(localStorage.getItem('zoalumFavorites')) || [];
                if(!favorites.includes(productId)) {
                    favorites.push(productId);
                    localStorage.setItem('zoalumFavorites', JSON.stringify(favorites));
                }
            } else {
                icon.classList.replace('fa-solid', 'fa-regular');
                icon.style.color = '';
                button.style.background = 'rgba(255,255,255,0.9)';
                button.style.boxShadow = 'none';
                
                // Remove from localStorage
                const productId = button.closest('.product-card').querySelector('.quick-view-btn').dataset.product;
                let favorites = JSON.parse(localStorage.getItem('zoalumFavorites')) || [];
                favorites = favorites.filter(id => id !== productId);
                localStorage.setItem('zoalumFavorites', JSON.stringify(favorites));
            }
        }

        // =========================================
        // QUICK VIEW MODAL - FIXED PARA M√ìVIL
        // =========================================
        const quickViewModal = document.getElementById('quickViewModal');
        const closeModalBtn = document.querySelector('.close-modal');
        
        document.querySelectorAll('.quick-view-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                openQuickView(this);
            });
            
            // Soporte touch para m√≥vil
            btn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                openQuickView(this);
            }, { passive: false });
        });
        
        function openQuickView(button) {
            const productId = button.dataset.product;
            const productCard = button.closest('.product-card');
            const productTitle = productCard.querySelector('h3').textContent;
            const productPrice = productCard.querySelector('.price').textContent;
            const productDesc = productCard.querySelector('.desc').textContent;
            const productImage = productCard.querySelector('.main-image-area img').src;
            
            const modalHTML = `
                <div class="modal-product">
                    <div class="modal-images">
                        <img src="${productImage}" alt="${productTitle}" loading="lazy">
                    </div>
                    <div class="modal-info">
                        <h3>${productTitle}</h3>
                        <p class="modal-desc">${productDesc}</p>
                        <div class="modal-price">${productPrice}</div>
                        <a href="https://wa.me/525548588680?text=Me%20interesa%20el%20producto:%20${encodeURIComponent(productTitle)}" 
                           target="_blank" class="btn-buy modal-buy">
                            <i class="fa-brands fa-whatsapp"></i> COMPRAR POR WHATSAPP
                        </a>
                        <div class="modal-features">
                            <p><i class="fa-solid fa-truck"></i> Env√≠o gratis en CDMX</p>
                            <p><i class="fa-solid fa-shield-alt"></i> 30 d√≠as de garant√≠a</p>
                            <p><i class="fa-solid fa-gift"></i> Empaque de regalo incluido</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.querySelector('.modal-body').innerHTML = modalHTML;
            quickViewModal.style.display = 'flex';
            
            // FIX PARA M√ìVIL: Permitir scroll dentro del modal
            if (window.innerWidth <= 768) {
                // No bloquear el scroll del body
                // En su lugar, permitir scroll dentro del modal
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
                document.body.style.height = '100%';
                
                // Guardar posici√≥n del scroll
                const scrollY = window.scrollY;
                document.body.dataset.scrollY = scrollY;
                document.body.style.top = `-${scrollY}px`;
                
                // Asegurar que el modal sea scrollable
                const modalContent = document.querySelector('.modal-content');
                modalContent.style.overflowY = 'auto';
                modalContent.style.webkitOverflowScrolling = 'touch';
                modalContent.style.maxHeight = '85vh';
                
                // Swipe para cerrar
                let startY = 0;
                let isSwiping = false;
                
                const handleTouchStart = (e) => {
                    startY = e.touches[0].clientY;
                    isSwiping = true;
                };
                
                const handleTouchMove = (e) => {
                    if (!isSwiping) return;
                    const currentY = e.touches[0].clientY;
                    const diffY = currentY - startY;
                    
                    // Si hace swipe hacia abajo m√°s de 100px, cerrar
                    if (diffY > 100) {
                        closeModal();
                        isSwiping = false;
                    }
                };
                
                const handleTouchEnd = () => {
                    isSwiping = false;
                };
                
                quickViewModal.addEventListener('touchstart', handleTouchStart, { passive: true });
                quickViewModal.addEventListener('touchmove', handleTouchMove, { passive: true });
                quickViewModal.addEventListener('touchend', handleTouchEnd, { passive: true });
                
                // Guardar referencia para poder remover luego
                quickViewModal._touchHandlers = {
                    start: handleTouchStart,
                    move: handleTouchMove,
                    end: handleTouchEnd
                };
            } else {
                // En desktop, comportamiento normal
                document.body.style.overflow = 'hidden';
            }
        }
        
        function closeModal() {
            quickViewModal.style.display = 'none';
            
            // Restaurar scroll en m√≥vil
            if (window.innerWidth <= 768) {
                const scrollY = parseInt(document.body.dataset.scrollY || '0');
                
                // Restaurar estilos
                document.body.style.position = '';
                document.body.style.top = '';
                document.body.style.width = '';
                document.body.style.height = '';
                document.body.style.overflow = 'auto';
                
                // Restaurar scroll position
                window.scrollTo(0, scrollY);
                
                // Remover event listeners de swipe
                if (quickViewModal._touchHandlers) {
                    quickViewModal.removeEventListener('touchstart', quickViewModal._touchHandlers.start);
                    quickViewModal.removeEventListener('touchmove', quickViewModal._touchHandlers.move);
                    quickViewModal.removeEventListener('touchend', quickViewModal._touchHandlers.end);
                    delete quickViewModal._touchHandlers;
                }
            } else {
                // En desktop
                document.body.style.overflow = 'auto';
            }
        }
        
        closeModalBtn.addEventListener('click', closeModal);
        
        // Soporte touch para cerrar modal
        closeModalBtn.addEventListener('touchstart', function(e) {
            e.preventDefault();
            closeModal();
        }, { passive: false });
        
        // Cerrar al hacer click fuera del modal
        quickViewModal.addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // Cerrar con escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && quickViewModal.style.display === 'flex') {
                closeModal();
            }
        });

        // Details buttons
        document.querySelectorAll('.btn-details').forEach(btn => {
            btn.addEventListener('click', function() {
                const productId = this.dataset.product;
                alert(`M√°s informaci√≥n del producto ${productId} disponible pr√≥ximamente.`);
            });
            
            // Soporte touch
            btn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                this.click();
            }, { passive: false });
        });

        // Terms modal
        const termsModal = document.getElementById('termsModal');
        const termsLink = document.querySelector('.terms-link');
        const closeTerms = document.querySelector('.close-terms');
        
        if(termsLink && termsModal) {
            termsLink.addEventListener('click', function(e) {
                e.preventDefault();
                termsModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });
            
            // Soporte touch
            termsLink.addEventListener('touchstart', function(e) {
                e.preventDefault();
                this.click();
            }, { passive: false });
            
            closeTerms.addEventListener('click', function() {
                termsModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            });
            
            // Soporte touch para cerrar
            closeTerms.addEventListener('touchstart', function(e) {
                e.preventDefault();
                this.click();
            }, { passive: false });
            
            window.addEventListener('click', function(e) {
                if(e.target === termsModal) {
                    termsModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Soporte touch para cerrar tocando fuera
            window.addEventListener('touchstart', function(e) {
                if(e.target === termsModal) {
                    termsModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            }, { passive: true });
        }

        // Notification function
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #111;
                color: #d4af37;
                padding: 15px 25px;
                border-radius: 8px;
                border-left: 4px solid #d4af37;
                z-index: 10000;
                transform: translateX(150%);
                transition: transform 0.3s ease;
                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                font-size: 14px;
                font-weight: 600;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => notification.style.transform = 'translateX(0)', 100);
            setTimeout(() => {
                notification.style.transform = 'translateX(150%)';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Load favorites from localStorage
        document.addEventListener('DOMContentLoaded', function() {
            const favorites = JSON.parse(localStorage.getItem('zoalumFavorites')) || [];
            document.querySelectorAll('.product-card').forEach(card => {
                const productId = card.querySelector('.quick-view-btn')?.dataset.product;
                const favoriteBtn = card.querySelector('.favorite-btn');
                if(favorites.includes(productId) && favoriteBtn) {
                    const icon = favoriteBtn.querySelector('i');
                    icon.classList.replace('fa-regular', 'fa-solid');
                    icon.style.color = '#ff0055';
                    favoriteBtn.style.background = 'rgba(255,255,255,1)';
                    favoriteBtn.style.boxShadow = '0 0 15px rgba(255,0,85,0.3)';
                }
            });
            
            // Lazy loading optimizado
            if('IntersectionObserver' in window) {
                const lazyImages = document.querySelectorAll('.lazy-load');
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if(entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.classList.add('loaded');
                            observer.unobserve(img);
                        }
                    });
                }, {
                    rootMargin: '50px 0px',
                    threshold: 0.1
                });
                
                lazyImages.forEach(img => imageObserver.observe(img));
            }
            
            // Inicializar eventos t√°ctiles
            initTouchEvents();
        });

        // Prevent context menu on images
        document.querySelectorAll('img').forEach(img => {
            img.addEventListener('contextmenu', function(e) {
                e.preventDefault();
            });
        });
        
        // =========================================
        // FUNCI√ìN DE TOUCH EVENTS
        // =========================================
        
        function initTouchEvents() {
            const isTouchDevice = 'ontouchstart' in window || 
                                  navigator.maxTouchPoints > 0 || 
                                  navigator.msMaxTouchPoints > 0;
            
            if (isTouchDevice) {
                document.body.classList.add('touch-device');
                
                // Touch para thumbnails
                document.querySelectorAll('.thumb').forEach(thumb => {
                    thumb.addEventListener('touchstart', function(e) {
                        e.preventDefault();
                        cambiarImagen(
                            this.closest('.product-card').querySelector('.main-image-area img').id,
                            this.src
                        );
                    }, { passive: false });
                });
                
                // Touch para cards de productos
                document.querySelectorAll('.product-card').forEach(card => {
                    let touchTimer;
                    let startX, startY;
                    
                    card.addEventListener('touchstart', function(e) {
                        e.preventDefault();
                        this.classList.add('touch-active');
                        
                        startX = e.touches[0].clientX;
                        startY = e.touches[0].clientY;
                        
                        touchTimer = setTimeout(() => {
                            this.classList.add('long-press');
                        }, 500);
                    }, { passive: false });
                    
                    card.addEventListener('touchend', function(e) {
                        e.preventDefault();
                        this.classList.remove('touch-active', 'long-press');
                        clearTimeout(touchTimer);
                    });
                    
                    card.addEventListener('touchmove', function(e) {
                        e.preventDefault();
                        const moveX = Math.abs(e.touches[0].clientX - startX);
                        const moveY = Math.abs(e.touches[0].clientY - startY);
                        
                        if (moveX > 10 || moveY > 10) {
                            this.classList.remove('touch-active', 'long-press');
                            clearTimeout(touchTimer);
                        }
                    });
                });
                
                // Touch feedback para botones
                document.querySelectorAll('button, a[href], .clickable').forEach(el => {
                    el.addEventListener('touchstart', function() {
                        this.classList.add('touch-feedback');
                    });
                    
                    el.addEventListener('touchend', function() {
                        setTimeout(() => {
                            this.classList.remove('touch-feedback');
                        }, 150);
                    });
                });
            }
        }
        
        // Optimizar para m√≥vil
        function optimizeForMobile() {
            if (window.innerWidth <= 768) {
                // Asegurar que quick view sea t√°ctil
                document.querySelectorAll('.quick-view-btn').forEach(btn => {
                    btn.style.opacity = '1';
                    btn.style.bottom = '20px';
                });
                
                // Optimizar heart animation para m√≥vil
                const heartSvg = document.querySelector('.heart-svg');
                if (heartSvg) {
                    heartSvg.style.transform = 'translateZ(0)';
                }
            }
        }
        
        // Ejecutar optimizaciones
        window.addEventListener('load', optimizeForMobile);
        window.addEventListener('resize', optimizeForMobile);
    </script>
</body>
</html>